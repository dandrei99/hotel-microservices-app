# --- Identity & port ---
spring.application.name=SERVICES-SERVICE
server.port=8082

# --- Service discovery & (optional) central config ---
eureka.client.service-url.defaultZone=http://service-registry:8761/eureka

# --- Database (MySQL container named "services-db") ---
spring.datasource.url=jdbc:mysql://services-db:3306/services_db?createDatabaseIfNotExist=true&allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC
spring.datasource.username=${DB_USER:services}
spring.datasource.password=${DB_PASSWORD:servicespass}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Use Flyway for schema; validate at boot
spring.jpa.hibernate.ddl-auto=validate
spring.flyway.enabled=true
spring.jpa.open-in-view=false

# --- Security/JWT (overridable via env) ---
jwt.secret=${JWT_SECRET:mySuperSuperSuperSecretKeyForJWTValidation}

# --- Actuator / misc ---
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true

# --- Base URLs used from inside containers (same docker network) ---
gateway.base-url=http://api-gateway:9191

user.service.base-url=${gateway.base-url}/api/users
room.service.base-url=${gateway.base-url}/api/rooms
services.service.base-url=${gateway.base-url}/api/services

